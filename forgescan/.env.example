# ForgeScan Environment Variables
# Copy this to .env and fill in actual values
# WARNING: Keep .env out of version control!

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
ENVIRONMENT=development
DEBUG=false
SECRET_KEY=generate-with-secrets.token_urlsafe(32)
JWT_SECRET_KEY=generate-with-secrets.token_urlsafe(32)
API_V1_PREFIX=/api/v1
APP_NAME=ForgeScan
APP_VERSION=1.0.0

# ============================================================================
# DATABASE - PostgreSQL with RLS
# ============================================================================
POSTGRES_USER=forgescan
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=forgescan
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432
DATABASE_URL=postgresql://forgescan:password@postgres:5432/forgescan
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
RLS_ENFORCEMENT=True

# ============================================================================
# REDIS (for caching, queues)
# ============================================================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ============================================================================
# CORS & SECURITY
# ============================================================================
BACKEND_CORS_ORIGINS=["http://localhost:3000"]
ALLOWED_HOSTS=["*"]
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# ============================================================================
# FRONTEND / BACKEND URLS
# ============================================================================
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# ============================================================================
# SCANNER RUNNER SERVICE
# ============================================================================
SCANNER_RUNNER_URL=http://127.0.0.1:9001/run-scan
SCANNER_RUNNER_TIMEOUT=700

# ============================================================================
# EXTERNAL INTEGRATIONS (Payment/Subscriptions)
# ============================================================================
PEACH_ENTITY_ID=your_entity_id
PEACH_ACCESS_TOKEN=your_access_token
PEACH_WEBHOOK_SECRET=your_webhook_secret
PEACH_BASE_URL=https://eu-prod.oppwa.com

# ============================================================================
# EXTERNAL INTEGRATIONS (SCM / Cloud)
# ============================================================================
# GitHub API (for repo scanning)
GITHUB_TOKEN=ghp_xxxxx

# GitLab API
GITLAB_TOKEN=glpat_xxxxx

# AWS (for cloud resource scanning)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# ============================================================================
# LOGGING & AUDIT
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
AUDIT_LOG_ENABLED=True

# ============================================================================
# EMAIL / NOTIFICATIONS
# ============================================================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
NOTIFICATION_EMAIL_FROM=noreply@forgescan.local

# ============================================================================
# TESTING / DEVELOPMENT
# ============================================================================
TESTING=False
SEED_DATA=False
PEACH_TEST_MODE=false

# Email (Optional)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key
FROM_EMAIL=noreply@forgescan.io

# OAuth (Optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# Scanner Configuration
ZAP_API_KEY=
ZAP_PROXY_URL=http://zap:8080
SCAN_TIMEOUT_SECONDS=3600
MAX_CONCURRENT_SCANS=5

# Storage (Optional)
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_ENDPOINT=

# Monitoring (Optional)
SENTRY_DSN=

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
